<div class ="row">
  <div class="col-md-6 col-md-offset-3">

    <h1>
      Realizar Pago
    </h1>

    <div class="card-body">
      @if(form){
        @if(errors?.length){
          <div>
            <ul>
              @for (error of errors; track error){
                <li>{{error}}</li>
              }
            </ul>
          </div>
        }
        <form [formGroup]="form" (ngSubmit)="guardar()" >
          <div class="form-group">
            <label class="control-label" for="numerotar">Número de Tarjeta:</label>
            <input id="numerotar"  type="text" class="form-control" required autofocus="autofocus"
                   formControlName="numerotarj">
            @if(form.get('numerotar')?.hasError('required') && form.get('numerotar')?.touched){
              <p class="invalid-feedback d-block">El número de la tarjeta es obligatorio</p>
            }
            @if(form.get('numerotar')?.hasError('minlength') && form.get('numerotar')?.touched || form.get('numerotar')?.hasError('maxlength') && form.get('numerotar')?.touched){
              <p class="invalid-feedback d-block">El número de la tarjeta debe tener 16 dígitos</p>
            }
          </div>
          <div class="form-group">
            <label class="control-label" for="monto">Monto:</label>
            <input id="monto"  type="text" class="form-control" required autofocus="autofocus"
                   formControlName="monto">
            @if(form.get('monto')?.hasError('required') && form.get('monto')?.touched){
              <p class="invalid-feedback d-block">El monto a pagar es obligatorio</p>
            }
          </div>
          <br>
          <div class="form-group text-end">
            <button type="button" class="btn btn-light" routerLink="/">Cancelar</button>
            <button type="submit" class="btn btn-primary ms-2" [disabled]="!form.valid">Pagar</button>
          </div>
        </form>
      }
    </div>

  </div>
</div>
